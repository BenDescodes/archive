{"version":3,"sources":["app/archive/LsArchive.jsx","app/config/config.js"],"names":["LsEvent","useState","listevent","setListevent","getData","axios","get","baseUrl","then","res","data","useEffect","accept","token","nom","window","confirm","delete","reussie","alert","erreur","catch","err","SubmitDelete","className","aria-label","href","onClick","event","preventDefault","aria-current","map","val","index","intitule","description","categorie","emplacement","observation","duree","img_cover","src","alt","img_archive","valtar","image_archive","doc","target","token_event","title","titre"],"mappings":"oNAKe,SAASA,IACtB,MAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACMC,EAAU,WACdC,IAAMC,IAAIC,IAAU,WAAWC,MAAM,SAAAC,GACnCN,EAAaM,EAAIC,UAGrBC,qBAAU,WACRP,MACC,IAEH,IAcMQ,EAAS,SAACC,EAAOC,GACjBC,OAAOC,QAAQ,uCAAyCF,IAfzC,SAACD,GACpBR,IAAMY,OAAOV,IAAO,sBAAkBM,IACnCL,MAAM,SAAAC,GACDA,EAAIC,KAAKQ,SACXC,MAAMV,EAAIC,KAAKQ,SACfd,KAGIe,MAAMV,EAAIC,KAAKU,WAErBC,OAAM,SAACC,GACPH,MAAMG,MAKRC,CAAaV,IAsEjB,OACE,6BACE,yBAAKW,UAAU,eACb,wBAAIA,UAAU,cAAd,iBACA,yBAAKC,aAAW,cACd,wBAAID,UAAU,cACZ,wBAAIA,UAAU,mBAAkB,uBAAGE,KAAK,KAAKC,QAAS,SAAAC,GAAK,OAAIA,EAAMC,mBAArC,iBAChC,wBAAIL,UAAU,yBAAyBM,eAAa,QAApD,YAIN,yBAAKN,UAAU,OACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,wBAAIA,UAAU,cAAd,8BACA,yBAAKA,UAAU,oBACb,2BAAOA,UAAU,SACf,+BACE,4BACE,qCACA,wCACA,0CACA,yCACA,2CACA,2CACA,+CACA,mDACA,6CACA,wCACA,wCAGJ,+BACGtB,EAAU6B,KAAI,SAACC,EAAKC,GACnB,OACE,4BACE,4BAAKA,EAAQ,GACb,4BAAKD,EAAIE,UACT,4BAAKF,EAAIG,aACT,4BAAKH,EAAII,WACT,4BAAKJ,EAAIK,aACT,4BAAKL,EAAIM,aACT,4BAAKN,EAAIO,OACT,gCAAK,uBAAGb,KAAMM,EAAIQ,WAAb,IAAyB,yBAAKC,IAAMT,EAAIQ,UAAWE,IAAI,0BAC5D,4BACGV,EAAIW,YAAYZ,KAAI,SAACa,GACpB,OACE,uBAAGlB,KAAMkB,EAAOC,eAAhB,IAAgC,yBAAKJ,IAAMG,EAAOC,cAAeH,IAAI,4BAS3E,4BAAI,uBAAGhB,KAAMM,EAAIc,IAAKJ,IAAI,wBAAwBK,OAAO,UAArD,2BACJ,4BACE,uBAAGvB,UAAU,sBAAsBE,KAAM,gCAA2BM,EAAIgB,aAAeC,MAAM,wBAAuB,uBAAGzB,UAAU,kCADnI,QAEE,uBAAGA,UAAU,mBAAmBE,KAAM,iCAA4BM,EAAIgB,aAAeC,MAAM,sCAAqC,uBAAGzB,UAAU,yCAF/I,QAGE,4BAAQA,UAAU,qBAAqBG,QAAS,kBAAMf,EAAOoB,EAAIgB,YAAahB,EAAIkB,QAAQD,MAAM,yBAAwB,uBAAGzB,UAAU,oD,gCCnKjK,kCAAO,IACMjB,EAAU","file":"static/js/14.bd278f43.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {baseUrl} from '../config/config'\r\nimport DataTable from 'react-data-table-component';\r\n\r\nexport default function LsEvent() {\r\n  const [listevent, setListevent] = useState([])\r\n  const getData = () => {\r\n    axios.get(baseUrl + 'archive').then((res => {\r\n      setListevent(res.data)\r\n    }))\r\n  }\r\n  useEffect(() => {\r\n    getData()\r\n  }, [])\r\n\r\n  const SubmitDelete = (token) => {\r\n    axios.delete(baseUrl + `admin/event/${token}`)\r\n      .then((res => {\r\n        if (res.data.reussie) {\r\n          alert(res.data.reussie);\r\n          getData();\r\n          //window.location.reload();\r\n        }\r\n        else (alert(res.data.erreur))\r\n      })\r\n      ).catch((err) => {\r\n        alert(err)\r\n      })\r\n  }\r\n  const accept = (token, nom) => {\r\n    if (window.confirm(\"Voulez vous supprimer l'evenement : \" + nom)) {\r\n      SubmitDelete(token)\r\n    }\r\n  }\r\n\r\n  /* const reg = new RegExp('null$') */\r\n  /* const columns = [\r\n    {\r\n      name: 'N°',\r\n      selector: (row, index) => index + 1,\r\n      width: '50px'\r\n    },\r\n    {\r\n      name: 'Titre',\r\n      selector: row => row.titre,\r\n      sortable: true,\r\n      width: '200px'\r\n    },\r\n    {\r\n      name: 'Date',\r\n      selector: row => row.date,\r\n      sortable: true,\r\n      width: '180px'\r\n    },\r\n    {\r\n      name: 'Heure',\r\n      selector: row => row.heure,\r\n    },\r\n    {\r\n      name: 'Lieu',\r\n      selector: row => row.lieu,\r\n    },\r\n    {\r\n      name: 'Total billet',\r\n      selector: row => row.billet,\r\n\r\n    },\r\n    {\r\n      name: 'Pourcentage',\r\n      selector: row => row.pourcentage + ' %',\r\n    },\r\n    {\r\n      name: 'Organisateur',\r\n      selector: row => row.organisateur,\r\n      width: '130px'\r\n    },\r\n    {\r\n      name: 'Tarifications',\r\n      selector: row => row.TarifBillet.map((val) => val),\r\n      width: \"200px\"\r\n    },\r\n    {\r\n      name: 'Image évènement',\r\n      selector: row => <a href={row.cover}><img src={row.cover} width=\"300\" className=\"mr-2\" alt=\"image évènement\" /></a>\r\n    },\r\n    {\r\n      name: 'Image pub',\r\n      selector: row => <a href={row.portrait}><img src={row.portrait} width=\"300\" className=\"mr-2\" alt=\"image pub\" /></a>\r\n    },\r\n    {\r\n      name: 'Action',\r\n      cell: row => <span> <a href={\"whatsapp://send?text=https://www.m-place.events/scanner/\" + `${row.token_event}` + ' password : ' + `${row.password}`} data-action=\"share/whatsapp/share\" className=\"badge badge-primary \" target=\"_blank\" title=\"Envoyer le mot de passe de l'evenement \"><i className=\"mdi mdi-share-variant mdi-icon\"></i></a> {` `}\r\n        <a className=\"badge badge-success\" href={\"/evenement/MdEvent/\" + `${row.token_event}`} title=\"Modifier l'evenement\"><i className=\"mdi mdi-lead-pencil mdi-icon\"></i></a>{` `}\r\n        <a className=\"badge badge-info\" href={\"/evenement/MdfEvent/\" + `${row.token_event}`} title=\"Modifier les images de l'evenement\"><i className=\"mdi mdi-pencil-box-outline mdi-icon\"></i></a> {` `}\r\n        <button className=\"badge badge-danger\" onClick={() => accept(row.token_event, row.titre)} title=\"Supprimer l'evenement\"><i className=\"mdi mdi-delete-forever mdi-icon\"></i></button>\r\n      </span>,\r\n      width: '180px'\r\n    },\r\n  ],\r\n    data = listevent; \r\n    */\r\n  return (\r\n    <div>\r\n      <div className=\"page-header\">\r\n        <h3 className=\"page-title\">Evènement </h3>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol className=\"breadcrumb\">\r\n            <li className=\"breadcrumb-item\"><a href=\"!#\" onClick={event => event.preventDefault()}>Evènement</a></li>\r\n            <li className=\"breadcrumb-item active\" aria-current=\"page\">Liste</li>\r\n          </ol>\r\n        </nav>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-12 grid-margin\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <h4 className=\"card-title\">Liste des évènements</h4>\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>N°</th>\r\n                      <th>Intitule</th>\r\n                      <th>desciption</th>\r\n                      <th>Categorie</th>\r\n                      <th>Emplacement</th>\r\n                      <th>Observation</th>\r\n                      <th>Date_expiration</th>\r\n                      <th>Image de couverture</th>\r\n                      <th>Image archive</th>\r\n                      <th>Document</th>\r\n                      <th>Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {listevent.map((val, index) => {\r\n                      return (\r\n                        <tr>\r\n                          <td>{index + 1}</td>\r\n                          <td>{val.intitule}</td>\r\n                          <td>{val.description}</td>\r\n                          <td>{val.categorie}</td>\r\n                          <td>{val.emplacement}</td>\r\n                          <td>{val.observation}</td>\r\n                          <td>{val.duree}</td>\r\n                          <td> <a href={val.img_cover}> <img src ={val.img_cover} alt=\"image de couverture\"/></a></td>\r\n                          <td>\r\n                            {val.img_archive.map((valtar) => {\r\n                              return (\r\n                                <a href={valtar.image_archive}> <img src ={valtar.image_archive} alt=\"image de l'archive\"/></a>\r\n                               /*  <tr>\r\n                                  <td style={{ border: 0 }}>{(valtar.tarifs) ? valtar.tarifs : 'Billets'}</td>\r\n                                  <td style={{ border: 0 }}>{valtar.nbr + ' billets'}</td>\r\n                                  <td style={{ border: 0 }}>{valtar.prix + ' $'}</td>\r\n                                </tr> */\r\n                              )\r\n                            })}\r\n                          </td>\r\n                          <td><a href={val.doc} alt=\"document de l'archive\" target=\"_blank\"> Document de larchive </a></td>\r\n                          <td>\r\n                            <a className=\"badge badge-success\" href={\"/evenement/MdEvent/\" + `${val.token_event}`} title=\"Modifier l'evenement\"><i className=\"mdi mdi-lead-pencil mdi-icon\"></i></a> &nbsp;\r\n                            <a className=\"badge badge-info\" href={\"/evenement/MdfEvent/\" + `${val.token_event}`} title=\"Modifier les images de l'evenement\"><i className=\"mdi mdi-pencil-box-outline mdi-icon\"></i></a> &nbsp;\r\n                            <button className=\"badge badge-danger\" onClick={() => accept(val.token_event, val.titre)} title=\"Supprimer l'evenement\"><i className=\"mdi mdi-delete-forever mdi-icon\"></i></button>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n                {/* <DataTable\r\n                  columns={columns}\r\n                  data={data}\r\n                  pagination\r\n                  fixedHeader\r\n                  highlightOnHover\r\n                  /> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","export const fileupUrl = 'https://upload.m-place.events/' \r\nexport const baseUrl = 'http://localhost:3001/';\r\n//export const baseUrll = 'https://api.m-place.events/';"],"sourceRoot":""}